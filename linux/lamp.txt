Project: Linux Apache Mariadb PHP

Step 1:
go to /tmp, Copy and paste the following commands, create a bash script as lamp.sh and run this to install LAMP
cd /tmp
ls -ll lamp.sh
add execute permission: chmod u+x lamp.sh
ls -ll lamp.sh
./lamp.sh

**Script Start
sudo dnf upgrade -y
sudo dnf install -y httpd wget php-fpm php-mysqli php-json php php-devel
sudo dnf install -y mariadb105-server
sudo systemctl start httpd
sudo systemctl enable httpd
sudo usermod -a -G apache ec2-user
sudo chown -R ec2-user:apache /var/www
sudo chmod 2775 /var/www && find /var/www -type d -exec sudo chmod 2775 {} \;
find /var/www -type f -exec sudo chmod 0664 {} \;
echo "<?php phpinfo(); ?>" > /var/www/html/phpinfo.php
sudo systemctl start mariadb
sudo systemctl enable mariadb
**Script End

Step 3:
Test the Apache Web Server http://publicipofec2instance/phpinfo.php
Remove the phpinfo.php file: rm /var/www/html/phpinfo.php

Step 4:
Secure the database server

sudo systemctl start mariadb
sudo mysql_secure_installation

Type N Not to switch to the Unix Socket Mode
Type Y to set a root password
Type Y to remove the anonymous user accounts.
Type Y to disable the remote root login.
Type Y to remove the test database.
Type Y to reload the privilege tables and save your changes.

sudo systemctl stop mariadb
sudo systemctl start mariadb
sudo systemctl enable mariadb

Step 5:
go to /var/www/html, Copy and paste the following commands, create a bash script as phpmyadmin.sh and run this to install phpmyadmin
ls -ll phpmyadmin.sh
add execute permission: chmod u+x phpmyadmin.sh
ls -ll phpmyadmin.sh
./phpmyadmin.sh

cd /var/www/html

**Start Start
sudo dnf install php-mbstring php-xml -y
sudo systemctl restart httpd
sudo systemctl restart php-fpm
wget https://www.phpmyadmin.net/downloads/phpMyAdmin-latest-all-languages.tar.gz
mkdir phpMyAdmin && tar -xvzf phpMyAdmin-latest-all-languages.tar.gz -C phpMyAdmin --strip-components 1
rm phpMyAdmin-latest-all-languages.tar.gz
sudo systemctl start mariadb
**Start End

Test it: http://publicipofec2instance/phpMyAdmin

Enter root user ID and Password
